# Freemarker

## 1. 数据模型

${var}

${var!} 变量是null或者不存在,不会抛出异常,可以有一个默认值

${var!'默认值'}

${user.name!} 可能会报错

${(user.name)!}  不会报错,会先判断user,然后再判断user.name

Date格式化

![1551090765195](assets/1551090765195.png)

转义的html

![1551090793443](assets/1551090793443.png)



![1551091040026](assets/1551091040026.png)



![1551091052929](assets/1551091052929.png)





![1551091154773](assets/1551091154773.png)



布尔值如果没有进行处理,直接显示字符串,会报错,因为布尔值是逻辑真,假,一般不用于输出字符串"true","false",可以采取上面的方式,进行格式化

Date类型,freemarker使用的java.sql.Date而不是java.util.Date

不过也可以使用java.util.Date,但是在前端需要转义

![1551091476740](assets/1551091476740.png)

不区分单引号和双引号

变量的赋值,运算

`<#assign a=100/>`

`${a+100}`

富文本

![1551092086974](assets/1551092086974.png)

显示富文本

![1551092106124](assets/1551092106124.png)

显示原始信息

![1551092147044](assets/1551092147044.png)

列表



![1551092234225](assets/1551092234225.png)

map

![1551092293225](assets/1551092293225.png)





## 2. 表达式

### 2.1 if

- 判断是否为空

	- if myList?? 

	- if myList?exists

- elseif

![1551092419503](assets/1551092419503.png)



![1551092471657](assets/1551092471657.png)

### 2.2 switch



![1551092833607](assets/1551092833607.png)

## 3. API

### 3.1 字符串

substring(a,b) 包头不包尾

![1551093276321](assets/1551093276321.png)

![1551093303967](assets/1551093303967.png)

### 3.2 自定义方法

![1551093716756](assets/1551093716756.png)

![1551093685584](assets/1551093685584.png)

### 3.3 列表

![1551094081294](assets/1551094081294.png)

### 3.4 自定义指令

![1551094188131](assets/1551094188131.png)

![1551094318445](assets/1551094318445.png)

![1551094431822](assets/1551094431822.png)

### 3.5 内建函数

![1551094514664](../../1551094514664.png)

字符串

![1551094757739](assets/1551094757739.png)

![1551094782285](assets/1551094782285.png)

![1551094800652](assets/1551094800652.png)

![1551094812398](assets/1551094812398.png)

![1551094832889](assets/1551094832889.png)

![1551094911866](assets/1551094911866.png)

![1551094998555](assets/1551094998555.png)

![1551095200583](assets/1551095200583.png)

### 3.6 宏,nested,return

![1551095786577](assets/1551095786577.png)

